<div fxLayout="column" ngFormGroup>
  <mat-form-field *ngIf="config.enableCurrentPassword">
    <input
      matInput
      placeholder="Current Password"
      autocomplete="false"
      name="password_current"
      [type]="hideCurrent ? 'password' : 'text'"
      [(ngModel)]="currentPassword"
      [fsFormRequired]="true">
    <mat-icon
      matSuffix
      [matTooltip]="hideCurrent ? 'Show password' : 'Hide password'"
      (click)="hideCurrent = !hideCurrent">{{hideCurrent ? 'visibility' : 'visibility_off'}}</mat-icon>
  </mat-form-field>

  <mat-form-field>
    <input
      matInput
      placeholder="New Password"
      autocomplete="false"
      name="password_new"
      #newPasswordInput
      [type]="hideNew ? 'password' : 'text'"
      [(ngModel)]="newPassword"
      [fsFormRequired]="true"
      [fsFormMinLength]="config.minLength"
      [fsFormFunction]="excludeFormFunction">

    <mat-icon
      matSuffix
      [matTooltip]="hideNew ? 'Show password' : 'Hide password'"
      (click)="hideNew = !hideNew"
    >{{hideNew ? 'visibility' : 'visibility_off'}}</mat-icon>
  </mat-form-field>

  <mat-form-field>
    <input
      matInput
      placeholder="Confirm Password"
      autocomplete="false"
      name="password_confirm"
      [fsFormCompare]="newPasswordInput"
      [type]="hideConfirm ? 'password' : 'text'"
      [(ngModel)]="confirmPassword"
      [fsFormRequired]="true"
      [fsFormMinLength]="config.minLength">

    <mat-icon
      matSuffix
      [matTooltip]="hideConfirm ? 'Show password' : 'Hide password'"
      (click)="hideConfirm = !hideConfirm"
    >{{hideConfirm ? 'visibility' : 'visibility_off'}}</mat-icon>
  </mat-form-field>
</div>
